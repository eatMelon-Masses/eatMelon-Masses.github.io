---
layout: post
title:  "为消息选择分区"
date:   2020-8-19 17:31:01 +0800
categories: kafaka
tag: kafaka
---

* content
{:toc}

# 为消息选择分区
1. 通过计数器自增轮寻的方式一次将消息分配到不同的分区上；
2. 对于有键的消息，对键计算散列值，然后和主题的分区数进行取模得到分区编号

## 在客户端就选择消息分区的目的是什么？
只有为消息选择分区，我们才知道应该发送到那个节点，否则如图2-4所示，只能随便找一个服务端的负担，多了不必要的传输。